<!DOCTYPE html>
<html lang="en">
<head>
    <title>Productive.ai - Stock Recommender</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins">
    <style>
        body, h1, h2, h3, h4, h5 {
            font-family: "Poppins", sans-serif;
            color: white;
        }
        body {
            font-size: 16px;
            background-color: #121212;
        }
        .w3-sidebar {
            background-color: #1e1e1e;
        }
        .w3-container img {
            margin-bottom: 16px;
            margin-top: 16px;
            opacity: 0.9;
            cursor: pointer;
        }
        .w3-container img:hover {
            opacity: 1;
        }
        .header-logo {
            width: 100%;
            max-width: 300px;
            display: block;
            margin: 0 auto;
        }
        .footer {
            background-color: #1e1e1e;
            color: white;
            padding: 32px;
        }
        input, button {
            padding: 10px;
            margin: 10px 0;
            border: none;
            border-radius: 5px;
            width: 100%;
        }
        input {
            background-color: #333;
            color: #fff;
        }
        button {
            background-color: #ff9800;
            color: white;
            cursor: pointer;
        }
        button:hover {
            background-color: #e68a00;
        }
    </style>
</head>
<body>

<nav class="w3-sidebar w3-collapse w3-top w3-large w3-padding" style="z-index:3;width:300px;font-weight:bold;" id="mySidebar"><br>
    <a href="javascript:void(0)" onclick="w3_close()" class="w3-button w3-hide-large w3-display-topleft" style="width:100%;font-size:22px;color:white;">Close Menu</a>
    <div class="w3-container">
        <h3 class="w3-padding-64"><b>Productive.ai</b></h3>
    </div>
    <div class="w3-bar-block">
        <a href="front.html" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Home</a>
        <a href="summarize.html" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Smart Note Maker</a>
        <a href="stocks.html" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Stock Recommender</a>
        <a href="news.html" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">News Summarizer</a>
        <a href="quiz.html" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Quiz Maker</a>
        <a href="Story.html" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Story Maker</a>
        <a href="about.html" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">About</a>
    </div>
</nav>

<header class="w3-container w3-top w3-hide-large w3-blue w3-xlarge w3-padding">
    <a href="javascript:void(0)" class="w3-button w3-blue w3-margin-right" onclick="w3_open()">â˜°</a>
    <span style="color:white;">Productive.ai</span>
</header>

<div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<div class="w3-main" style="margin-left:340px;margin-right:40px">
    <div class="w3-container" style="margin-top:80px" id="stockRecommender">
        <h1 class="w3-xxxlarge w3-text-blue"><b>Stock Recommender</b></h1>
        <hr style="width:50px;border:5px solid blue" class="w3-round">
        <p>Use AI to recommend the best stocks based on your desired returns and number of days.</p>

        <form id="stockForm">
            <label for="days">Number of Days:</label>
            <input type="number" id="days" name="days" placeholder="Enter number of days" required>

            <label for="returns">Desired Returns (%) :</label>
            <input type="number" id="returns" name="returns" placeholder="Enter returns percentage" required>

            <button type="submit">Get Recommended Stocks</button>
        </form>

        <div id="recommendations"></div>
    </div>
</div>

<div class="footer">
    <p class="w3-right">Powered by <a href="front.html" title="Productive.ai" target="_blank" class="w3-hover-opacity" style="color:white;">Productive.ai</a></p>
</div>

<script>
function w3_open() {
    document.getElementById("mySidebar").style.display = "block";
    document.getElementById("myOverlay").style.display = "block";
}

function w3_close() {
    document.getElementById("mySidebar").style.display = "none";
    document.getElementById("myOverlay").style.display = "none";
}

document.getElementById('stockForm').addEventListener('submit', async function(event) {
    event.preventDefault();

    const days = document.getElementById('days').value;
    const returns = document.getElementById('returns').value;

    // Call your backend API to get stock recommendations
    try {
        const response = await fetch('http://localhost:5000/recommend-stocks', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ days: days, returns: returns }),
        });

        const data = await response.json();
        const recommendationsDiv = document.getElementById('recommendations');

        if (data.stocks && data.stocks.length > 0) {
            recommendationsDiv.innerHTML = `<h3>Recommended Stocks:</h3><ul>${data.stocks.map(stock => `<li>${stock}</li>`).join('')}</ul>`;
        } else {
            recommendationsDiv.innerHTML = `<p>No stocks match your criteria.</p>`;
        }
    } catch (error) {
        console.error('Error fetching recommendations:', error);
        document.getElementById('recommendations').innerHTML = `<p>Failed to get stock recommendations. Try again later.</p>`;
    }
});
</script>

</body>
</html>
